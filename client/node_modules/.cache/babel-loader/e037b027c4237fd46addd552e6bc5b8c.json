{"ast":null,"code":"\"use strict\";\n\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _RedisClientMultiCommand_instances, _RedisClientMultiCommand_multi, _RedisClientMultiCommand_executor, _RedisClientMultiCommand_legacyMode, _RedisClientMultiCommand_defineLegacyCommand;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst commands_1 = require(\"./commands\");\n\nconst multi_command_1 = require(\"../multi-command\");\n\nconst commander_1 = require(\"../commander\");\n\nclass RedisClientMultiCommand {\n  constructor(executor) {\n    let legacyMode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    _RedisClientMultiCommand_instances.add(this);\n\n    _RedisClientMultiCommand_multi.set(this, new multi_command_1.default());\n\n    _RedisClientMultiCommand_executor.set(this, void 0);\n\n    Object.defineProperty(this, \"v4\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n    Object.defineProperty(this, \"EXEC\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: this.exec\n    });\n\n    __classPrivateFieldSet(this, _RedisClientMultiCommand_executor, executor, \"f\");\n\n    if (legacyMode) {\n      __classPrivateFieldGet(this, _RedisClientMultiCommand_instances, \"m\", _RedisClientMultiCommand_legacyMode).call(this);\n    }\n  }\n\n  static extend(plugins) {\n    return (0, commander_1.extendWithModulesAndScripts)({\n      BaseClass: RedisClientMultiCommand,\n      modules: plugins === null || plugins === void 0 ? void 0 : plugins.modules,\n      modulesCommandsExecutor: RedisClientMultiCommand.prototype.commandsExecutor,\n      scripts: plugins === null || plugins === void 0 ? void 0 : plugins.scripts,\n      scriptsExecutor: RedisClientMultiCommand.prototype.scriptsExecutor\n    });\n  }\n\n  commandsExecutor(command, args) {\n    return this.addCommand(command.transformArguments(...args), command.transformReply);\n  }\n\n  addCommand(args, transformReply) {\n    __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addCommand(args, transformReply);\n\n    return this;\n  }\n\n  scriptsExecutor(script, args) {\n    __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addScript(script, args);\n\n    return this;\n  }\n\n  async exec() {\n    let execAsPipeline = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (execAsPipeline) {\n      return this.execAsPipeline();\n    }\n\n    const commands = __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").exec();\n\n    if (!commands) return [];\n    return __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").handleExecReplies(await __classPrivateFieldGet(this, _RedisClientMultiCommand_executor, \"f\").call(this, commands, multi_command_1.default.generateChainId()));\n  }\n\n  async execAsPipeline() {\n    if (!__classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue.length) return [];\n    return __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").transformReplies(await __classPrivateFieldGet(this, _RedisClientMultiCommand_executor, \"f\").call(this, __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue));\n  }\n\n}\n\nexports.default = RedisClientMultiCommand;\n_RedisClientMultiCommand_multi = new WeakMap(), _RedisClientMultiCommand_executor = new WeakMap(), _RedisClientMultiCommand_instances = new WeakSet(), _RedisClientMultiCommand_legacyMode = function _RedisClientMultiCommand_legacyMode() {\n  var _this = this;\n\n  this.v4.addCommand = this.addCommand.bind(this);\n\n  this.addCommand = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    __classPrivateFieldGet(_this, _RedisClientMultiCommand_multi, \"f\").addCommand(args.flat());\n\n    return _this;\n  };\n\n  this.v4.exec = this.exec.bind(this);\n\n  this.exec = callback => {\n    this.v4.exec().then(reply => {\n      if (!callback) return;\n      callback(null, reply);\n    }).catch(err => {\n      if (!callback) {\n        // this.emit('error', err);\n        return;\n      }\n\n      callback(err);\n    });\n  };\n\n  for (const name of Object.keys(commands_1.default)) {\n    __classPrivateFieldGet(this, _RedisClientMultiCommand_instances, \"m\", _RedisClientMultiCommand_defineLegacyCommand).call(this, name);\n  }\n\n  for (const name of Object.keys(commands_1.default)) {\n    this[name.toLowerCase()] = this[name];\n  }\n}, _RedisClientMultiCommand_defineLegacyCommand = function _RedisClientMultiCommand_defineLegacyCommand(name) {\n  var _this2 = this;\n\n  this.v4[name] = this[name].bind(this.v4);\n\n  this[name] = function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _this2.addCommand(name, args);\n  };\n};\n(0, commander_1.extendWithCommands)({\n  BaseClass: RedisClientMultiCommand,\n  commands: commands_1.default,\n  executor: RedisClientMultiCommand.prototype.commandsExecutor\n});","map":{"version":3,"sources":["/home/maira/Desktop/Developer Projects/system-ping-project/node_modules/@node-redis/client/dist/lib/client/multi-command.js"],"names":["__classPrivateFieldSet","receiver","state","value","kind","f","TypeError","has","call","set","__classPrivateFieldGet","get","_RedisClientMultiCommand_instances","_RedisClientMultiCommand_multi","_RedisClientMultiCommand_executor","_RedisClientMultiCommand_legacyMode","_RedisClientMultiCommand_defineLegacyCommand","Object","defineProperty","exports","commands_1","require","multi_command_1","commander_1","RedisClientMultiCommand","constructor","executor","legacyMode","add","default","enumerable","configurable","writable","exec","extend","plugins","extendWithModulesAndScripts","BaseClass","modules","modulesCommandsExecutor","prototype","commandsExecutor","scripts","scriptsExecutor","command","args","addCommand","transformArguments","transformReply","script","addScript","execAsPipeline","commands","handleExecReplies","generateChainId","queue","length","transformReplies","WeakMap","WeakSet","v4","bind","flat","callback","then","reply","catch","err","name","keys","toLowerCase","extendWithCommands"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _RedisClientMultiCommand_instances, _RedisClientMultiCommand_multi, _RedisClientMultiCommand_executor, _RedisClientMultiCommand_legacyMode, _RedisClientMultiCommand_defineLegacyCommand;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst commands_1 = require(\"./commands\");\nconst multi_command_1 = require(\"../multi-command\");\nconst commander_1 = require(\"../commander\");\nclass RedisClientMultiCommand {\n    constructor(executor, legacyMode = false) {\n        _RedisClientMultiCommand_instances.add(this);\n        _RedisClientMultiCommand_multi.set(this, new multi_command_1.default());\n        _RedisClientMultiCommand_executor.set(this, void 0);\n        Object.defineProperty(this, \"v4\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: {}\n        });\n        Object.defineProperty(this, \"EXEC\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: this.exec\n        });\n        __classPrivateFieldSet(this, _RedisClientMultiCommand_executor, executor, \"f\");\n        if (legacyMode) {\n            __classPrivateFieldGet(this, _RedisClientMultiCommand_instances, \"m\", _RedisClientMultiCommand_legacyMode).call(this);\n        }\n    }\n    static extend(plugins) {\n        return (0, commander_1.extendWithModulesAndScripts)({\n            BaseClass: RedisClientMultiCommand,\n            modules: plugins === null || plugins === void 0 ? void 0 : plugins.modules,\n            modulesCommandsExecutor: RedisClientMultiCommand.prototype.commandsExecutor,\n            scripts: plugins === null || plugins === void 0 ? void 0 : plugins.scripts,\n            scriptsExecutor: RedisClientMultiCommand.prototype.scriptsExecutor\n        });\n    }\n    commandsExecutor(command, args) {\n        return this.addCommand(command.transformArguments(...args), command.transformReply);\n    }\n    addCommand(args, transformReply) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addCommand(args, transformReply);\n        return this;\n    }\n    scriptsExecutor(script, args) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addScript(script, args);\n        return this;\n    }\n    async exec(execAsPipeline = false) {\n        if (execAsPipeline) {\n            return this.execAsPipeline();\n        }\n        const commands = __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").exec();\n        if (!commands)\n            return [];\n        return __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").handleExecReplies(await __classPrivateFieldGet(this, _RedisClientMultiCommand_executor, \"f\").call(this, commands, multi_command_1.default.generateChainId()));\n    }\n    async execAsPipeline() {\n        if (!__classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue.length)\n            return [];\n        return __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").transformReplies(await __classPrivateFieldGet(this, _RedisClientMultiCommand_executor, \"f\").call(this, __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").queue));\n    }\n}\nexports.default = RedisClientMultiCommand;\n_RedisClientMultiCommand_multi = new WeakMap(), _RedisClientMultiCommand_executor = new WeakMap(), _RedisClientMultiCommand_instances = new WeakSet(), _RedisClientMultiCommand_legacyMode = function _RedisClientMultiCommand_legacyMode() {\n    this.v4.addCommand = this.addCommand.bind(this);\n    this.addCommand = (...args) => {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_multi, \"f\").addCommand(args.flat());\n        return this;\n    };\n    this.v4.exec = this.exec.bind(this);\n    this.exec = (callback) => {\n        this.v4.exec()\n            .then((reply) => {\n            if (!callback)\n                return;\n            callback(null, reply);\n        })\n            .catch((err) => {\n            if (!callback) {\n                // this.emit('error', err);\n                return;\n            }\n            callback(err);\n        });\n    };\n    for (const name of Object.keys(commands_1.default)) {\n        __classPrivateFieldGet(this, _RedisClientMultiCommand_instances, \"m\", _RedisClientMultiCommand_defineLegacyCommand).call(this, name);\n    }\n    for (const name of Object.keys(commands_1.default)) {\n        this[name.toLowerCase()] = this[name];\n    }\n}, _RedisClientMultiCommand_defineLegacyCommand = function _RedisClientMultiCommand_defineLegacyCommand(name) {\n    this.v4[name] = this[name].bind(this.v4);\n    this[name] =\n        (...args) => this.addCommand(name, args);\n};\n(0, commander_1.extendWithCommands)({\n    BaseClass: RedisClientMultiCommand,\n    commands: commands_1.default,\n    executor: RedisClientMultiCommand.prototype.commandsExecutor\n});\n"]},"metadata":{},"sourceType":"script"}
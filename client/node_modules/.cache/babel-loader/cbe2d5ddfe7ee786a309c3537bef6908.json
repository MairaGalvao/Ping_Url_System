{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformReply = exports.transformArguments = void 0;\n\nfunction transformArguments(index, query, options) {\n  const args = ['FT.SPELLCHECK', index, query];\n\n  if (options === null || options === void 0 ? void 0 : options.DISTANCE) {\n    args.push('DISTANCE', options.DISTANCE.toString());\n  }\n\n  if (options === null || options === void 0 ? void 0 : options.TERMS) {\n    if (Array.isArray(options.TERMS)) {\n      for (const term of options.TERMS) {\n        pushTerms(args, term);\n      }\n    } else {\n      pushTerms(args, options.TERMS);\n    }\n  }\n\n  return args;\n}\n\nexports.transformArguments = transformArguments;\n\nfunction pushTerms(args, _ref) {\n  let {\n    mode,\n    dictionary\n  } = _ref;\n  args.push('TERMS', mode, dictionary);\n}\n\nfunction transformReply(rawReply) {\n  return rawReply.map(_ref2 => {\n    let [, term, suggestions] = _ref2;\n    return {\n      term,\n      suggestions: suggestions.map(_ref3 => {\n        let [score, suggestion] = _ref3;\n        return {\n          score: Number(score),\n          suggestion\n        };\n      })\n    };\n  });\n}\n\nexports.transformReply = transformReply;","map":{"version":3,"sources":["/home/maira/Desktop/Developer Projects/system-ping-project/node_modules/@node-redis/search/dist/commands/SPELLCHECK.js"],"names":["Object","defineProperty","exports","value","transformReply","transformArguments","index","query","options","args","DISTANCE","push","toString","TERMS","Array","isArray","term","pushTerms","mode","dictionary","rawReply","map","suggestions","score","suggestion","Number"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,cAAR,GAAyBF,OAAO,CAACG,kBAAR,GAA6B,KAAK,CAA3D;;AACA,SAASA,kBAAT,CAA4BC,KAA5B,EAAmCC,KAAnC,EAA0CC,OAA1C,EAAmD;AAC/C,QAAMC,IAAI,GAAG,CAAC,eAAD,EAAkBH,KAAlB,EAAyBC,KAAzB,CAAb;;AACA,MAAIC,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACE,QAA9D,EAAwE;AACpED,IAAAA,IAAI,CAACE,IAAL,CAAU,UAAV,EAAsBH,OAAO,CAACE,QAAR,CAAiBE,QAAjB,EAAtB;AACH;;AACD,MAAIJ,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACK,KAA9D,EAAqE;AACjE,QAAIC,KAAK,CAACC,OAAN,CAAcP,OAAO,CAACK,KAAtB,CAAJ,EAAkC;AAC9B,WAAK,MAAMG,IAAX,IAAmBR,OAAO,CAACK,KAA3B,EAAkC;AAC9BI,QAAAA,SAAS,CAACR,IAAD,EAAOO,IAAP,CAAT;AACH;AACJ,KAJD,MAKK;AACDC,MAAAA,SAAS,CAACR,IAAD,EAAOD,OAAO,CAACK,KAAf,CAAT;AACH;AACJ;;AACD,SAAOJ,IAAP;AACH;;AACDP,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;;AACA,SAASY,SAAT,CAAmBR,IAAnB,QAA+C;AAAA,MAAtB;AAAES,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAsB;AAC3CV,EAAAA,IAAI,CAACE,IAAL,CAAU,OAAV,EAAmBO,IAAnB,EAAyBC,UAAzB;AACH;;AACD,SAASf,cAAT,CAAwBgB,QAAxB,EAAkC;AAC9B,SAAOA,QAAQ,CAACC,GAAT,CAAa;AAAA,QAAC,GAAGL,IAAH,EAASM,WAAT,CAAD;AAAA,WAA4B;AAC5CN,MAAAA,IAD4C;AAE5CM,MAAAA,WAAW,EAAEA,WAAW,CAACD,GAAZ,CAAgB;AAAA,YAAC,CAACE,KAAD,EAAQC,UAAR,CAAD;AAAA,eAA0B;AACnDD,UAAAA,KAAK,EAAEE,MAAM,CAACF,KAAD,CADsC;AAEnDC,UAAAA;AAFmD,SAA1B;AAAA,OAAhB;AAF+B,KAA5B;AAAA,GAAb,CAAP;AAOH;;AACDtB,OAAO,CAACE,cAAR,GAAyBA,cAAzB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments(index, query, options) {\n    const args = ['FT.SPELLCHECK', index, query];\n    if (options === null || options === void 0 ? void 0 : options.DISTANCE) {\n        args.push('DISTANCE', options.DISTANCE.toString());\n    }\n    if (options === null || options === void 0 ? void 0 : options.TERMS) {\n        if (Array.isArray(options.TERMS)) {\n            for (const term of options.TERMS) {\n                pushTerms(args, term);\n            }\n        }\n        else {\n            pushTerms(args, options.TERMS);\n        }\n    }\n    return args;\n}\nexports.transformArguments = transformArguments;\nfunction pushTerms(args, { mode, dictionary }) {\n    args.push('TERMS', mode, dictionary);\n}\nfunction transformReply(rawReply) {\n    return rawReply.map(([, term, suggestions]) => ({\n        term,\n        suggestions: suggestions.map(([score, suggestion]) => ({\n            score: Number(score),\n            suggestion\n        }))\n    }));\n}\nexports.transformReply = transformReply;\n"]},"metadata":{},"sourceType":"script"}
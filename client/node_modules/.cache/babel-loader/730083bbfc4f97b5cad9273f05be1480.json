{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformReply = exports.transformArguments = void 0;\n\nfunction transformArguments() {\n  return ['MEMORY', 'STATS'];\n}\n\nexports.transformArguments = transformArguments;\nconst FIELDS_MAPPING = {\n  'peak.allocated': 'peakAllocated',\n  'total.allocated': 'totalAllocated',\n  'startup.allocated': 'startupAllocated',\n  'replication.backlog': 'replicationBacklog',\n  'clients.slaves': 'clientsReplicas',\n  'clients.normal': 'clientsNormal',\n  'aof.buffer': 'aofBuffer',\n  'lua.caches': 'luaCaches',\n  'overhead.total': 'overheadTotal',\n  'keys.count': 'keysCount',\n  'keys.bytes-per-key': 'keysBytesPerKey',\n  'dataset.bytes': 'datasetBytes',\n  'dataset.percentage': 'datasetPercentage',\n  'peak.percentage': 'peakPercentage',\n  'allocator.allocated': 'allocatorAllocated',\n  'allocator.active': 'allocatorActive',\n  'allocator.resident': 'allocatorResident',\n  'allocator-fragmentation.ratio': 'allocatorFragmentationRatio',\n  'allocator-fragmentation.bytes': 'allocatorFragmentationBytes',\n  'allocator-rss.ratio': 'allocatorRssRatio',\n  'allocator-rss.bytes': 'allocatorRssBytes',\n  'rss-overhead.ratio': 'rssOverheadRatio',\n  'rss-overhead.bytes': 'rssOverheadBytes',\n  'fragmentation': 'fragmentation',\n  'fragmentation.bytes': 'fragmentationBytes'\n},\n      DB_FIELDS_MAPPING = {\n  'overhead.hashtable.main': 'overheadHashtableMain',\n  'overhead.hashtable.expires': 'overheadHashtableExpires'\n};\n\nfunction transformReply(rawReply) {\n  const reply = {\n    db: {}\n  };\n\n  for (let i = 0; i < rawReply.length; i += 2) {\n    const key = rawReply[i];\n\n    if (key.startsWith('db.')) {\n      const dbTuples = rawReply[i + 1],\n            db = {};\n\n      for (let j = 0; j < dbTuples.length; j += 2) {\n        db[DB_FIELDS_MAPPING[dbTuples[j]]] = dbTuples[j + 1];\n      }\n\n      reply.db[key.substring(3)] = db;\n      continue;\n    }\n\n    reply[FIELDS_MAPPING[key]] = Number(rawReply[i + 1]);\n  }\n\n  return reply;\n}\n\nexports.transformReply = transformReply;","map":{"version":3,"sources":["/home/maira/Desktop/Developer Projects/system-ping-project/node_modules/@node-redis/client/dist/lib/commands/MEMORY_STATS.js"],"names":["Object","defineProperty","exports","value","transformReply","transformArguments","FIELDS_MAPPING","DB_FIELDS_MAPPING","rawReply","reply","db","i","length","key","startsWith","dbTuples","j","substring","Number"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,cAAR,GAAyBF,OAAO,CAACG,kBAAR,GAA6B,KAAK,CAA3D;;AACA,SAASA,kBAAT,GAA8B;AAC1B,SAAO,CAAC,QAAD,EAAW,OAAX,CAAP;AACH;;AACDH,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;AACA,MAAMC,cAAc,GAAG;AACnB,oBAAkB,eADC;AAEnB,qBAAmB,gBAFA;AAGnB,uBAAqB,kBAHF;AAInB,yBAAuB,oBAJJ;AAKnB,oBAAkB,iBALC;AAMnB,oBAAkB,eANC;AAOnB,gBAAc,WAPK;AAQnB,gBAAc,WARK;AASnB,oBAAkB,eATC;AAUnB,gBAAc,WAVK;AAWnB,wBAAsB,iBAXH;AAYnB,mBAAiB,cAZE;AAanB,wBAAsB,mBAbH;AAcnB,qBAAmB,gBAdA;AAenB,yBAAuB,oBAfJ;AAgBnB,sBAAoB,iBAhBD;AAiBnB,wBAAsB,mBAjBH;AAkBnB,mCAAiC,6BAlBd;AAmBnB,mCAAiC,6BAnBd;AAoBnB,yBAAuB,mBApBJ;AAqBnB,yBAAuB,mBArBJ;AAsBnB,wBAAsB,kBAtBH;AAuBnB,wBAAsB,kBAvBH;AAwBnB,mBAAiB,eAxBE;AAyBnB,yBAAuB;AAzBJ,CAAvB;AAAA,MA0BGC,iBAAiB,GAAG;AACnB,6BAA2B,uBADR;AAEnB,gCAA8B;AAFX,CA1BvB;;AA8BA,SAASH,cAAT,CAAwBI,QAAxB,EAAkC;AAC9B,QAAMC,KAAK,GAAG;AACVC,IAAAA,EAAE,EAAE;AADM,GAAd;;AAGA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,QAAQ,CAACI,MAA7B,EAAqCD,CAAC,IAAI,CAA1C,EAA6C;AACzC,UAAME,GAAG,GAAGL,QAAQ,CAACG,CAAD,CAApB;;AACA,QAAIE,GAAG,CAACC,UAAJ,CAAe,KAAf,CAAJ,EAA2B;AACvB,YAAMC,QAAQ,GAAGP,QAAQ,CAACG,CAAC,GAAG,CAAL,CAAzB;AAAA,YAAkCD,EAAE,GAAG,EAAvC;;AACA,WAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,QAAQ,CAACH,MAA7B,EAAqCI,CAAC,IAAI,CAA1C,EAA6C;AACzCN,QAAAA,EAAE,CAACH,iBAAiB,CAACQ,QAAQ,CAACC,CAAD,CAAT,CAAlB,CAAF,GAAqCD,QAAQ,CAACC,CAAC,GAAG,CAAL,CAA7C;AACH;;AACDP,MAAAA,KAAK,CAACC,EAAN,CAASG,GAAG,CAACI,SAAJ,CAAc,CAAd,CAAT,IAA6BP,EAA7B;AACA;AACH;;AACDD,IAAAA,KAAK,CAACH,cAAc,CAACO,GAAD,CAAf,CAAL,GAA6BK,MAAM,CAACV,QAAQ,CAACG,CAAC,GAAG,CAAL,CAAT,CAAnC;AACH;;AACD,SAAOF,KAAP;AACH;;AACDP,OAAO,CAACE,cAAR,GAAyBA,cAAzB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformReply = exports.transformArguments = void 0;\nfunction transformArguments() {\n    return ['MEMORY', 'STATS'];\n}\nexports.transformArguments = transformArguments;\nconst FIELDS_MAPPING = {\n    'peak.allocated': 'peakAllocated',\n    'total.allocated': 'totalAllocated',\n    'startup.allocated': 'startupAllocated',\n    'replication.backlog': 'replicationBacklog',\n    'clients.slaves': 'clientsReplicas',\n    'clients.normal': 'clientsNormal',\n    'aof.buffer': 'aofBuffer',\n    'lua.caches': 'luaCaches',\n    'overhead.total': 'overheadTotal',\n    'keys.count': 'keysCount',\n    'keys.bytes-per-key': 'keysBytesPerKey',\n    'dataset.bytes': 'datasetBytes',\n    'dataset.percentage': 'datasetPercentage',\n    'peak.percentage': 'peakPercentage',\n    'allocator.allocated': 'allocatorAllocated',\n    'allocator.active': 'allocatorActive',\n    'allocator.resident': 'allocatorResident',\n    'allocator-fragmentation.ratio': 'allocatorFragmentationRatio',\n    'allocator-fragmentation.bytes': 'allocatorFragmentationBytes',\n    'allocator-rss.ratio': 'allocatorRssRatio',\n    'allocator-rss.bytes': 'allocatorRssBytes',\n    'rss-overhead.ratio': 'rssOverheadRatio',\n    'rss-overhead.bytes': 'rssOverheadBytes',\n    'fragmentation': 'fragmentation',\n    'fragmentation.bytes': 'fragmentationBytes'\n}, DB_FIELDS_MAPPING = {\n    'overhead.hashtable.main': 'overheadHashtableMain',\n    'overhead.hashtable.expires': 'overheadHashtableExpires'\n};\nfunction transformReply(rawReply) {\n    const reply = {\n        db: {}\n    };\n    for (let i = 0; i < rawReply.length; i += 2) {\n        const key = rawReply[i];\n        if (key.startsWith('db.')) {\n            const dbTuples = rawReply[i + 1], db = {};\n            for (let j = 0; j < dbTuples.length; j += 2) {\n                db[DB_FIELDS_MAPPING[dbTuples[j]]] = dbTuples[j + 1];\n            }\n            reply.db[key.substring(3)] = db;\n            continue;\n        }\n        reply[FIELDS_MAPPING[key]] = Number(rawReply[i + 1]);\n    }\n    return reply;\n}\nexports.transformReply = transformReply;\n"]},"metadata":{},"sourceType":"script"}